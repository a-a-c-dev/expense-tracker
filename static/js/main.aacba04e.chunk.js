(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c,r,a=n(1),u=n.n(a),i=n(10),o=n.n(i),s=n(0),l=function(){return Object(s.jsx)("h1",{children:"\u05de\u05e2\u05e7\u05d1 \u05d4\u05d5\u05e6\u05d0\u05d5\u05ea"})},j=n(3),d=n(9),b=n(2),x=function(e,t){switch(t.type){case"DELETE_TRANSACTION":return Object(b.a)(Object(b.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"ADD_TRANSACTION":case"UPDATE_TRANSACTION":return Object(b.a)(Object(b.a)({},e),{},{transactions:[t.payload].concat(Object(d.a)(e.transactions))});case"CHANGE_CURRENCY":return Object(b.a)(Object(b.a)({},e),{},{currency:t.payload});default:return e}},O=n(6),m=n.n(O),h=null!==(c=m.a.get("transactions"))&&void 0!==c?c:[{id:1,text:"\u05e4\u05e8\u05d7\u05d9\u05dd",amount:-20,currency:"\u20aa"},{id:2,text:"\u05de\u05e9\u05db\u05d5\u05e8\u05ea",amount:300,currency:"$"},{id:3,text:"\u05d8\u05dc\u05e4\u05d5\u05df",amount:-200,currency:"\u20ac"}],f={currency:null!==(r=m.a.get("currency"))&&void 0!==r?r:"$",transactions:h},v=Object(a.createContext)(f),p=function(e){var t=e.children,n=Object(a.useReducer)(x,f),c=Object(j.a)(n,2),r=c[0],u=c[1];return Object(a.useEffect)((function(){m.a.set("transactions",JSON.stringify(r.transactions))}),[r.transactions]),Object(a.useEffect)((function(){m.a.set("currency",r.currency)}),[r.currency]),Object(s.jsx)(v.Provider,{value:{transactions:r.transactions,currency:r.currency,deleteTransaction:function(e){u({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){u({type:"ADD_TRANSACTION",payload:e})},changeCurrency:function(e){u({type:"CHANGE_CURRENCY",payload:e})}},children:t})},y=n(5),N=u.a.memo((function(){var e=Object(a.useContext)(v),t=e.currency,n=e.transactions,c=Object(a.useMemo)((function(){return Object(y.totalCalculator)(n,t)}),[n,t]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"\u05d4\u05de\u05d0\u05d6\u05df \u05e9\u05dc\u05da"}),Object(s.jsx)("h1",{className:c<0?"minus":"plus",children:c<0?"".concat(Number(c).toFixed(2)," ").concat(t):"".concat(t," ").concat(Number(c).toFixed(2))})]})})),C=function(){var e=Object(a.useContext)(v),t=e.transactions,n=e.currency,c=Object(a.useMemo)((function(){return Object(y.incomeCalculator)(t,n)}),[t,n]),r=Object(a.useMemo)((function(){return Object(y.expenseCalculator)(t,n)}),[t,n]);return Object(s.jsxs)("div",{className:"inc-exp-container",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:"\u05d4\u05db\u05e0\u05e1\u05d4"}),Object(s.jsx)("p",{className:"money plus",children:"".concat(n," ").concat(Number(c).toFixed(2))})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:"\u05d4\u05d5\u05e6\u05d0\u05d4"}),Object(s.jsx)("p",{className:"money minus",children:" ".concat(Number(r).toFixed(2)," ").concat(n)})]})]})},g=u.a.memo((function(e){var t=e.transaction,n=Object(a.useContext)(v).deleteTransaction,c=t.amount<0?"-":"";return Object(s.jsxs)("li",{className:t.amount<0?"minus":"plus",children:[t.text," ",Object(s.jsxs)("span",{children:[c,t.currency,Math.abs(t.amount)]}),Object(s.jsx)("button",{onClick:function(){return n(t.id)},className:"delete-btn",children:"X"})]})})),T=u.a.memo((function(){var e=Object(a.useContext)(v).transactions;return Object(s.jsxs)("div",{className:"transaction-list-container",children:[Object(s.jsx)("h3",{children:"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d4"}),Object(s.jsx)("ul",{className:"list",children:e.map((function(e){return Object(s.jsx)(g,{transaction:e},e.id)}))})]})})),R=function(e){var t=e.text,n=e.validText,c=e.textRequired,r=e.handleChange;return Object(s.jsxs)("div",{className:"input-container",children:[Object(s.jsx)("label",{htmlFor:"text",children:"\u05e9\u05dd \u05e2\u05e1\u05e7\u05d4"}),Object(s.jsx)("input",{type:"text",name:"text",value:t,onChange:function(e){return r(e.target.name,e.target.value)},placeholder:"\u05e9\u05dd \u05e2\u05e1\u05e7\u05d4..."}),c?Object(s.jsx)("p",{className:"error",children:c}):n?Object(s.jsx)("p",{className:"error",children:n}):null]})},A=function(e){var t=e.amount,n=e.validAmount,c=e.amountRequired,r=e.handleChange;return Object(s.jsxs)("div",{className:"input-container",children:[Object(s.jsx)("label",{htmlFor:"amount",children:"\u05e1\u05db\u05d5\u05dd"}),Object(s.jsx)("input",{type:"number",name:"amount",value:t,onChange:function(e){return r(e.target.name,e.target.value)},placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05db\u05d5\u05dd \u05e2\u05e1\u05e7\u05d4..."}),c?Object(s.jsx)("p",{className:"error",children:c}):n?Object(s.jsx)("p",{className:"error",children:n}):null]})},F=u.a.memo((function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),u=Object(j.a)(r,2),i=u[0],o=u[1],l=Object(a.useState)({}),d=Object(j.a)(l,2),b=d[0],x=d[1],O=Object(a.useContext)(v),m=O.addTransaction,h=O.currency,f=Object(a.useCallback)((function(){var e={};return n||(e.textRequired="*\u05e9\u05dd \u05e2\u05e1\u05e7\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),n.match(/^[\u0591-\u05F4\s]+$/gi)||(e.validText="*\u05e9\u05dd \u05e2\u05e1\u05e7\u05d4, \u05d4\u05d8\u05e7\u05e1\u05d8 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d1\u05e9\u05e4\u05d4 \u05d4\u05e2\u05d1\u05e8\u05d9\u05ea"),0===i&&(e.amountRequired="*\u05e1\u05db\u05d5\u05dd \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),i.length>8&&(e.validAmount="*\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05e1\u05db\u05d5\u05dd \u05e2\u05d3 \u05e9\u05de\u05d5\u05e0\u05d4 \u05e1\u05e4\u05e8\u05d5\u05ea"),x(e),0===Object.keys(e).length}),[n,i]),p=Object(a.useCallback)(function(e){var t;return function(){for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];clearTimeout(t),t=setTimeout((function(){return e.apply(void 0,c)}),200)}}((function(e,t){"text"===e?c(t):o(t)})),[]);return Object(s.jsxs)("div",{className:"add-transaction-container",children:[Object(s.jsx)("h3",{children:"\u05d4\u05d5\u05e1\u05e3 \u05e2\u05e1\u05e7\u05d4 \u05d7\u05d3\u05e9\u05d4 "}),Object(s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),f()){var t={id:Math.floor(1e6*Math.random()),text:n,amount:+i,currency:h};m(t),o(0),c("")}},children:[Object(s.jsxs)("div",{className:"inputs-container",children:[Object(s.jsx)(R,{text:n,handleChange:p,validText:b.validText,textRequired:b.textRequired}),Object(s.jsx)(A,{amount:i,handleChange:p,validAmount:b.validAmount,amountRequired:b.amountRequired})]}),Object(s.jsx)("button",{className:"btn",type:"submit",children:"\u05d4\u05d5\u05e1\u05e3 \u05e2\u05e1\u05e7\u05d4"})]})]})})),S=u.a.memo((function(){var e=Object(a.useContext)(v),t=e.changeCurrency,n=e.currency,c=Object(a.useState)(n),r=Object(j.a)(c,2),u=r[0],i=r[1];return Object(a.useEffect)((function(){t(u)}),[u]),Object(s.jsxs)("div",{className:"currency-container",children:[Object(s.jsx)("label",{htmlFor:"currency-choice",children:"\u05d1\u05d7\u05e8 \u05de\u05d8\u05d1\u05e2:"}),Object(s.jsxs)("select",{id:"currency-list",defaultValue:u,onChange:function(e){var t=e.target.value;i(t)},children:[Object(s.jsx)("option",{value:"$",children:"$(US-Dollar)"}),Object(s.jsx)("option",{value:"\u20aa",children:"\u20aa(Israeli Shekel)"}),Object(s.jsx)("option",{value:"\u20ac",children:"\u20ac(Euro)"}),Object(s.jsx)("option",{value:"\xa3",children:"\xa3(British Pound)"}),Object(s.jsx)("option",{value:"\xa5",children:"\xa5 (Chinese Yuan)"}),Object(s.jsx)("option",{value:"R$",children:"R$(Brazilian real)"})]})]})}));var E=function(){return Object(s.jsxs)(p,{children:[Object(s.jsx)(l,{}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(N,{}),Object(s.jsxs)("div",{className:"sub-container",children:[Object(s.jsx)(C,{}),Object(s.jsx)(T,{})]}),Object(s.jsx)(S,{}),Object(s.jsx)(F,{})]})]})};n(16);o.a.render(Object(s.jsx)(u.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root"))},5:function(e,t){var n=3.4824,c=3.4824,r=function(e,t){switch(t){case"$":return e.reduce((function(e,t){return e+ +t}),0)/3.569.toFixed(2);case"\xa3":return e.reduce((function(e,t){return e+ +t}),0)/c.toFixed(2);case"\xa5":return e.reduce((function(e,t){return e+ +t}),0)/.49.toFixed(2);case"R$":return e.reduce((function(e,t){return e+ +t}),0)/.7.toFixed(2);case"\u20ac":return(e.reduce((function(e,t){return e+ +t}),0)/n).toFixed(2);default:return e.reduce((function(e,t){return e+ +t}),0).toFixed(2)}},a=function(e){return e.map((function(e){switch(e.currency){case"$":return(3.569*e.amount).toFixed(2);case"\xa3":return(e.amount*c).toFixed(2);case"\xa5":return(.49*e.amount).toFixed(2);case"R$":return(.7*e.amount).toFixed(2);case"\u20ac":return(e.amount*n).toFixed(2);default:return e.amount}}))};e.exports={totalCalculator:function(e,t){var n=a(e);return r(n,t)},expenseCalculator:function(e,t){var n=a(e).filter((function(e){return e<0}));return r(n,t)},incomeCalculator:function(e,t){var n=a(e).filter((function(e){return e>0}));return r(n,t)}}},6:function(e,t){var n="expense_tracker_";e.exports={set:function(e,t){if("undefined"!==typeof window)return window.localStorage.setItem("".concat(n).concat(e),t)},get:function(e){if("undefined"!==typeof window){var t=window.localStorage.getItem("".concat(n).concat(e));try{return JSON.parse(t)}catch(c){return t}}}}}},[[17,1,2]]]);
//# sourceMappingURL=main.aacba04e.chunk.js.map